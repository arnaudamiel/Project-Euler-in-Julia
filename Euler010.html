<!DOCTYPE html>
<html>
<head>
<title>Project Euler 010</title>

<script language="Javascript">

function calculate()
{
 document.getElementById('result').innerHTML="Calculating ..."
 setTimeout(function(){startSolver()},1);
 
}

function startSolver()
{
 var start = new Date().getTime();
 var result = solve010();
 var end = new Date().getTime();
 var time = end - start;
 document.getElementById('result').innerHTML="Found : "+result+" in "+time+" ms";
}

function eratosthenes(limit)
{
 var primes = [];
 if (limit >= 2)
 {
  var sqrtlmt = Math.sqrt(limit) - 2;
  var nums = new Array(); // start with an empty Array...
  for (var i = 2; i <= limit; i++) // and
   nums.push(i); // only initialize the Array once...
  for (var i = 0; i <= sqrtlmt; i++)
  {
   var p = nums[i]
   if (p)
    for (var j = p * p - 2; j < nums.length; j += p)
     nums[j] = 0;
  }
  for (var i = 0; i < nums.length; i++)
  {
   var p = nums[i];
   if (p)
    primes.push(p);
  }
 }
 return primes;
}

function solve010()
{
 var solveTo = 2000000;

 myPrimes = eratosthenes(solveTo)

 var counter = 0;

 for (var i = 0; i < myPrimes.length; i++)
  counter += myPrimes[i];

 return counter;

}

</script>

</head>
<body>
<h1>Summation of primes</h1>
<h2>Problem 10</h2>
<div id="problem">
<p>The sum of the primes below 10 is 2 + 3 + 5 + 7 = 17.</p>
<p>Find the sum of all the primes below two million.</p>
</div>
<div id="result"></div>
<button onclick="calculate()">Click to calculate solution</button>
</body>
</html>
