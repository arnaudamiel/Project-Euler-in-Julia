<!DOCTYPE html>
<html>
<head>
<title>Project Euler 004</title>

<script language="Javascript">

function calculate() {

    document.getElementById('result').innerHTML="Calculating ..."
    setTimeout(function(){startSolver()},1);
 
}

function startSolver() {

    var start = new Date().getTime();

    var result = solve004();

    var end = new Date().getTime();
    var time = end - start;

    document.getElementById('result').innerHTML="Found : "+result+" in "+time+" ms";
}

function reverse(n) {

    var reversed = 0;

    while (n > 0) {

        reversed = (10 * reversed) + (n % 10);
        n = Math.floor(n/10);
    }

    return reversed;
}

function isPalindrome(n) {

    return (n==reverse(n));
}

function solve004() {

    var largestPalindrome = 0;
    var a = 999;
    var b = 0;
    var db = 0;

    while (a >= 100) {

        if (a % 11 == 0) {

            b = 999;
            db = 1;
        }

        else {

            b = 990; //The largest number less than or equal 999 and divisible by 11
            db = 11;
        }

        while (b >= a) {

            if ( a*b <= largestPalindrome )

                break;

            if (isPalindrome(a*b))

                largestPalindrome = a*b;

            b -= db;
        }

    a--;

    }

    return largestPalindrome;

}

</script>

</head>
<body>
<h1>Largest palindrome product</h1>
<h2>Problem 4</h2>
<div id="problem">
<p>A palindromic number reads the same both ways. The largest palindrome made from the product of two 2-digit numbers is 9009 = 91 × 99.</p>
<p>Find the largest palindrome made from the product of two 3-digit numbers.</p>
</div>
<div id="result"></div>
<button onclick="calculate()">Click to calculate solution</button>
</body>
</html>